// variables
// Typography variables

// Heading sizes - mobile
// h4-h6 remain the same size on both mobile & desktop
$h00-size-mobile: 40px;
$h0-size-mobile: 32px;
$h1-size-mobile: 26px;
$h2-size-mobile: 22px;
$h3-size-mobile: 18px;

// Heading sizes - desktop
$h00-size: 48px;
$h0-size: 40px;
$h1-size: 32px;
$h2-size: 24px;
$h3-size: 20px;
$h4-size: 16px;
$h5-size: 14px;
$h6-size: 12px;

$font-size-small: 12px;

// Font weights
$font-weight-bold: 600;
$font-weight-semibold: 500;
$font-weight-normal: 400;
$font-weight-light: 300;

// Line heights
$lh-condensed-ultra: 1;
$lh-condensed: 1.25;
$lh-default: 1.5;

// Font stacks
$body-font: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial,
  sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji';

// Monospace font stack
$mono-font: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;

// The base body size
$body-font-size: 14px;
$body-line-height: $lh-default;

// Black based on same hue as $gray-900
$black: #1b1f23;
$white: #fff;

//
//
// -------- Grays --------
$gray-000: #fafbfc;
$gray-100: #f6f8fa;
$gray-200: #e1e4e8;
$gray-300: #d1d5da;
$gray-400: #959da5;
$gray-500: #6a737d;
$gray-600: #586069;
$gray-700: #444d56;
$gray-800: #2f363d;
$gray-900: #24292e; // body font color

// -------- Blue --------
$blue-000: #f1f8ff;
$blue-100: #dbedff;
$blue-200: #c8e1ff;
$blue-300: #79b8ff;
$blue-400: #2188ff;
$blue-500: #0366d6; // Default: Passes AA with #fff
$blue-600: #005cc5;
$blue-700: #044289;
$blue-800: #032f62;
$blue-900: #05264c; // Passes with 1/2/300 blues

// -------- Green --------
$green-000: #f0fff4;
$green-100: #dcffe4;
$green-200: #bef5cb;
$green-300: #85e89d;
$green-400: #34d058;
$green-500: #28a745; // Default. passes AA Large
$green-600: #22863a; // Text green, passes AA on #fff
$green-700: #176f2c;
$green-800: #165c26;
$green-900: #144620;

// -------- Yellow --------
$yellow-000: #fffdef;
$yellow-100: #fffbdd;
$yellow-200: #fff5b1;
$yellow-300: #ffea7f;
$yellow-400: #ffdf5d;
$yellow-500: #ffd33d;
$yellow-600: #f9c513;
$yellow-700: #dbab09;
$yellow-800: #b08800;
$yellow-900: #735c0f;

// -------- Orange --------
$orange-000: #fff8f2;
$orange-100: #ffebda;
$orange-200: #ffd1ac;
$orange-300: #ffab70;
$orange-400: #fb8532;
$orange-500: #f66a0a; // Default. passes AA Large with #fff
$orange-600: #e36209;
$orange-700: #d15704;
$orange-800: #c24e00;
$orange-900: #a04100;

// -------- Red --------
$red-000: #ffeef0;
$red-100: #ffdce0;
$red-200: #fdaeb7;
$red-300: #f97583;
$red-400: #ea4a5a;
$red-500: #d73a49; // Default. passes AA
$red-600: #cb2431;
$red-700: #b31d28;
$red-800: #9e1c23;
$red-900: #86181d;

// -------- Purple --------
$purple-000: #f5f0ff;
$purple-100: #e6dcfd;
$purple-200: #d1bcf9;
$purple-300: #b392f0;
$purple-400: #8a63d2;
$purple-500: #6f42c1; // passes AA with #fff
$purple-600: #5a32a3;
$purple-700: #4c2889;
$purple-800: #3a1d6e;
$purple-900: #29134e;

// -------- Pink --------
$pink-000: #ffeef8;
$pink-100: #fedbf0;
$pink-200: #f9b3dd;
$pink-300: #f692ce;
$pink-400: #ec6cb9;
$pink-500: #ea4aaa;
$pink-600: #d03592;
$pink-700: #b93a86;
$pink-800: #99306f;
$pink-900: #6d224f;

// -------- Fades --------
$black-fade-15: rgba($black, 0.15);
$black-fade-30: rgba($black, 0.3);
$black-fade-50: rgba($black, 0.5);
$black-fade-70: rgba($black, 0.7);
$black-fade-85: rgba($black, 0.85);

$white-fade-15: rgba($white, 0.15);
$white-fade-30: rgba($white, 0.3);
$white-fade-50: rgba($white, 0.5);
$white-fade-70: rgba($white, 0.7);
$white-fade-85: rgba($white, 0.85);

// -------- Color defaults --------
$red: $red-500;
$purple: $purple-500;
$blue: $blue-500;
$green: $green-500;
$yellow: $yellow-500;
$orange: $orange-500;

$gray-dark: $gray-900;
$gray-light: $gray-400;
$gray: $gray-500;

// Border colors
$border-white: $white;
$border-black-fade: $black-fade-15;
$border-white-fade: $white-fade-15;
$border-gray-dark: $gray-300;
$border-gray-darker: $gray-700;
$border-gray-light: lighten($gray-200, 3%);
$border-gray: $gray-200;
$border-blue: $blue-500;
$border-blue-light: $blue-200;
$border-green: $green-400;
$border-green-light: desaturate($green-300, 40%);
$border-purple: $purple;
$border-red: $red;
$border-red-light: $red-300;
$border-yellow: $yellow-600;

// Background colors
$bg-white: $white;
$bg-black: $black;
$bg-black-fade: $black-fade-50;
$bg-blue-light: $blue-000;
$bg-blue: $blue-500;
$bg-gray-dark: $gray-900;
$bg-gray-light: $gray-000;
$bg-gray: $gray-100;
$bg-green: $green-500;
$bg-green-light: $green-100;
$bg-orange: $orange-700;
$bg-purple: $purple-500;
$bg-purple-light: $purple-000;
$bg-pink: $pink-500;
$bg-red: $red-500;
$bg-red-light: $red-000;
$bg-yellow: $yellow-500;
$bg-yellow-light: $yellow-200;
$bg-yellow-dark: $yellow-700;

// Text colors
$text-black: $black;
$text-white: $white;
$text-blue: $blue-500;
$text-gray-dark: $gray-900;
$text-gray-light: $gray-500;
$text-gray: $gray-600;
$text-green: $green-600;
$text-orange: $orange-900;
$text-orange-light: $orange-600;
$text-purple: $purple;
$text-pink: $pink-500;
$text-red: $red-600;
$text-yellow: $yellow-800;

@use 'sass:math';
// Layout variables

// These are our margin and padding utility spacers. The default step size we
// use is 8px. This gives us a key of:
//    0 => 0px
//    1 => 4px
//    2 => 8px
//    3 => 16px
//    4 => 24px
//    5 => 32px
//    6 => 40px
$spacer: 8px;

// Our spacing scale
$spacer-0: 0; // 0
$spacer-1: math.div($spacer, 2); // 4px
$spacer-2: $spacer; // 8px
$spacer-3: $spacer * 2; // 16px
$spacer-4: $spacer * 3; // 24px
$spacer-5: $spacer * 4; // 32px
$spacer-6: $spacer * 5; // 40px

// Em spacer variables
$em-spacer-1: 0.0625em; // 1/16
$em-spacer-2: 0.125em; // 1/8
$em-spacer-3: 0.25em; // 1/4
$em-spacer-4: 0.375em; // 3/8
$em-spacer-5: 0.5em; // 1/2
$em-spacer-6: 0.75em; // 3/4

// Size scale
// Used for buttons, inputs, labels, avatars etc.
$size: 16px;

$size-0: 0;
$size-1: $size; // 16px
$size-2: $size-1 + 4px; // 20px
$size-3: $size-2 + 4px; // 24px
$size-4: $size-3 + 4px; // 28px
$size-5: $size-4 + 4px; // 32px
$size-6: $size-5 + 8px; // 40px
$size-7: $size-6 + 8px; // 48px
$size-8: $size-7 + 16px; // 64px

// Fixed-width container variables
$container-width: 980px;
$grid-gutter: 10px;

// Breakpoint widths
$width-xs: 0;
// Small screen / phone
$width-sm: 544px;
// Medium screen / tablet
$width-md: 768px;
// Large screen / desktop (980 + (16 * 2)) <= container + gutters
$width-lg: 1012px;
// Extra large screen / wide desktop
$width-xl: 1280px;

// Responsive container widths
$container-sm: $width-sm;
$container-md: $width-md;
$container-lg: $width-lg;
$container-xl: $width-xl;

// Breakpoints in the form (name: length)
$breakpoints: (
  sm: $width-sm,
  md: $width-md,
  lg: $width-lg,
  xl: $width-xl,
);

// Miscellaneous variables

// Border
$border-width: 1px;
$border-color: $border-gray;
$border-style: solid;
$border: $border-width $border-color $border-style;

// Border Radius
$border-radius-1: 4px;
$border-radius-2: 6px;
$border-radius-3: 8px;
$border-radius: $border-radius-2;

// Box shadow
$box-shadow: 0 1px 0 rgba($black, 0.04);
$box-shadow-medium: 0 3px 6px rgba($gray-400, 0.15);
$box-shadow-large: 0 8px 24px rgba($gray-400, 0.2);
$box-shadow-extra-large: 0 12px 48px rgba($gray-400, 0.3);

$box-shadow-highlight: inset 0 1px 0 rgba($white, 0.25); // top highlight
$box-shadow-inset: inset 0 1px 0 rgba($border-color, 0.2); // top inner shadow
$box-shadow-focus: 0 0 0 3px rgba($border-blue, 0.3); // blue focus ring

// Button variables
$border-color-button: $black-fade-15;
$btn-active-shadow: inset 0 0.15em 0.3em $black-fade-15; // TODO: Deprecate?

// Form variables
$form-control-shadow: inset 0 1px 2px rgba($black, 0.075); // TODO: Deprecate?
$btn-input-focus-shadow: 0 0 0 0.2em rgba($blue, 0.3); // TODO: Deprecate? Replaced by $box-shadow-focus

// Tooltips
$tooltip-max-width: 250px;
$tooltip-background-color: $black;
$tooltip-text-color: $white;
$tooltip-delay: 0.4s;
$tooltip-duration: 0.1s;

// diffstat background colors
$bg-diffstat-added: darken($green-400, 5%);
$bg-diffstat-deleted: $red-600;
$bg-diffstat-neutral: $gray-300;

// Heading mixins for use within components
// These match heading utilities in utilities/typography
@mixin h1 {
  font-size: $h1-size;
  font-weight: $font-weight-bold;
}

@mixin h2 {
  font-size: $h2-size;
  font-weight: $font-weight-bold;
}

@mixin h3 {
  font-size: $h3-size;
  font-weight: $font-weight-bold;
}

@mixin h4 {
  font-size: $h4-size;
  font-weight: $font-weight-bold;
}

@mixin h5 {
  font-size: $h5-size;
  font-weight: $font-weight-bold;
}

@mixin h6 {
  font-size: $h6-size;
  font-weight: $font-weight-bold;
}

// Responsive media queries

@mixin breakpoint($breakpoint) {
  @if $breakpoint == '' {
    @content;
  } @else {
    // Retrieves the value from the key
    $value: map-get($breakpoints, $breakpoint);

    // If the key exists in the map
    @if $value != null {
      // Prints a media query based on the value
      @media (min-width: $value) {
        @content;
      }
    }

    // If the key doesn't exist in the map
    @else {
      @warn "Unfortunately, no value could be retrieved from `#{$breakpoint}`. "
        + "Please make sure it is defined in `$breakpoints` map.";
    }
  }
}

// Clearfix
//
// Clears floats via mixin.

@mixin clearfix {
  &::before {
    display: table;
    content: '';
  }

  &::after {
    display: table;
    clear: both;
    content: '';
  }
}

// TODO: See if the mixins below can be deprecated
// Might still be needed for .btn-blue
// ------------------------------------------------------------------

// Button color generator for primary and themed buttons

// New button hotness
@mixin btn-solid($color, $bg, $bg2) {
  color: $color;
  background-color: $bg2;
  background-image: linear-gradient(-180deg, $bg 0%, $bg2 90%);

  @if $bg == $gray-000 {
    &:focus,
    &.focus {
      box-shadow: $btn-input-focus-shadow;
    }

    &:hover,
    &.hover {
      background-color: darken($bg2, 3%);
      background-image: linear-gradient(
        -180deg,
        darken($bg, 3%) 0%,
        darken($bg2, 3%) 90%
      );
      background-position: 0 -$em-spacer-5;
      border-color: rgba($black, 0.35);
    }

    &:active,
    &.selected,
    &[aria-selected='true'],
    [open] > & {
      background-color: darken(desaturate($bg, 10%), 6%);
      background-image: none;
      border-color: rgba(
        $black,
        0.35
      ); // repeat to avoid shift on click-drag off of button
      box-shadow: $btn-active-shadow;
    }

    &:disabled,
    &.disabled,
    &[aria-disabled='true'] {
      color: rgba($color, 0.4);
      background-color: $bg2;
      background-image: none;
      border-color: $border-color-button;
      box-shadow: none;
    }
  } @else {
    &:focus,
    &.focus {
      box-shadow: 0 0 0 0.2em rgba($bg, 0.4);
    }

    &:hover,
    &.hover {
      background-color: darken($bg2, 2%);
      background-image: linear-gradient(
        -180deg,
        darken($bg, 2%) 0%,
        darken($bg2, 2%) 90%
      );
      background-position: 0 -$em-spacer-5;
      border-color: $black-fade-50;
    }

    &:active,
    &.selected,
    &[aria-selected='true'],
    [open] > & {
      background-color: darken(mix($bg, $bg2, 50%), 7%);
      background-image: none;
      border-color: $black-fade-50; // repeat to avoid shift on click-drag off of button
      box-shadow: $btn-active-shadow;
    }

    &:disabled,
    &.disabled,
    &[aria-disabled='true'] {
      color: rgba($color, 0.75);
      background-color: mix($bg2, $white, 50%);
      background-image: none;
      border-color: $border-color-button;
      box-shadow: none;
    }

    .Counter {
      color: darken($bg, 8%);
      background-color: $white;
    }
  }
}

// Generate a two-color caret for any element.
@mixin double-caret(
  $foreground: $text-white,
  $background: lighten($gray-300, 5%)
) {
  &::after,
  &::before {
    position: absolute;
    top: 11px;
    right: 100%;
    left: -16px;
    display: block;
    width: 0;
    height: 0;
    pointer-events: none;
    content: ' ';
    border-color: transparent;
    border-style: solid solid outset;
  }

  &::after {
    margin-top: 1px;
    margin-left: 2px;
    border-width: 7px;
    border-right-color: $foreground;
  }

  &::before {
    border-width: 8px;
    border-right-color: $background;
  }
}
